<!doctype html>
{% load static %}

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Sofia&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> 
        
        <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">

        <style>
            .red-box {
            border: 2px solid red;
            background-color: red;
            padding: 10px;
            color: white;
            font-style: italic;
        }
        </style>
</head>

<body> 
        <div class="signup-section d-flex h-100 w-100"> 
            <div class="align-items-center banner-section d-flex flex-column justify-content-between px-5">
                <div class="align-items-end d-flex logo">
                    <img src="{% static 'assets/images/logo.svg' %}" class="img-fluid" alt="logo" />
                </div>
                <div class="banner">
                    <img src="{% static 'assets/images/banner.svg' %}" class="img-fluid" alt="banner" />
                </div>                
            </div> 
            <div class="align-items-center d-flex flex-column justify-content-center signup-block">
                <div class="block-content d-flex flex-column justify-content-center align-items-center">
                    <div class="heading text-center mb-20">
                        <h1 class="text-dark-secondary mb-3 fs-32">Log in or Create an Account</h1>
                        <p class="text-dark-secondary fs-16">Quickly get started by signing in using your existing accounts.</p>                    
                    </div>
                    <div class="d-flex gap-3 py-30">
                        <a href="{% url 'social:begin' 'google-oauth2' %}" class="btn btn-outline-primary social rounded-5 d-flex align-content-center flex-nowrap py-3 px-xl-4 px-3 gap-xl-3 gap-2">
                            <img src="{% static 'assets/images/google.svg' %}" alt="">
                            <p class="m-0 py-1 text-start text-nowrap"> Continue with Google</p>
                        </a>
                        <!-- <a href="#" class="btn btn-outline-primary social rounded-5 d-flex align-content-center flex-nowrap py-3 px-xl-4 px-3 gap-xl-3 gap-2">
                            <img src="{% static 'assets/images/facebook.svg' %}" alt="">                   
                            <p class="m-0 py-1 text-start text-nowrap"> Continue with Facebook</p>
                        </a>                    -->
                    </div>
                    <div class="d-flex w-100 align-items-center text-light-secondary">
                        <hr class="w-50">
                        <p class="px-3 m-0 fs-15">OR</p>
                        <hr class="w-50">
                    </div>

                    <div class="w-100 text-light-secondary">
                        <p class="py-30 text-center fs-16">Enter your details to create an account.</p>

                        <form method="post" id="myForm">
                            {% csrf_token %}


                            {% if error_message %}
                             <div class="red-box" id="error-box">
                                {{ error_message }}
                            </div>
                            {% endif %}
                            <br>

                            <div class="mb-4">
                                <label for="email1" class="form-label"><b>Your Email</b></label>
                                <input type="email" class="form-control" id="email1" name="email1">
                                 <div class="email-invalid" style="color: red;"></div><br>

                                <label for="username" class="form-label"><b>Your Username</b></label>
                                <input type="text" class="form-control" id="username" name="username">
                                 <div class="name-invalid" style="color: red;"></div><br>

                                <label for="password" class="form-label"><b>Password</b></label>
                                <input type="password" class="form-control" id="password" name="password">
                                <div class="password-invalid" style="color: red;"></div><br>

                                <label for="confirm_password" class="form-label"><b>Confirm Password</b></label>
                                <input type="password" class="form-control" id="confirm_password" name="confirm_password">
                                <div class="confirm-password-invalid" style="color: red;"></div><br>

                            </div>
                            <div class="mb-3 continue-btn">
                                <button type="submit" class="btn btn-primary w-100 fs-18 fw-medium">Continue</button>
                            </div>
                            <h6>Already have an account? <a href="{% url 'login' %}">Login</a></h6>
                            <p class="fs-15">By proceeding, you are agreeing to <a href="#" class="fw-medium "> Terms of Service </a> and <a href="#" class="fw-medium ">Privacy Notice </a></p>
                        </form>
                    </div>
                </div>
            </div>

        </div> 
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>


<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<!--datatable js-->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
<link href=
'https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/ui-lightness/jquery-ui.css'
          rel='stylesheet'>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" ></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" ></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


<!--select2 cdn-->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script>
function validateForm() {
    var isValid = true; // Assume the form is valid by default

    var emailInput = document.getElementById("email1");
    var emailInvalidFeedback1 = document.querySelector(".email-invalid");

    if (emailInput.value.trim() === "" || emailInput.value == null) {
      emailInvalidFeedback1.textContent = "Email is required.";
      emailInput.classList.add("is-invalid");
      emailInput.classList.remove("is-valid");
    isValid = false; // Set isValid to false if the field is invalid
    } else {
      emailInput.classList.add("is-valid");
      emailInput.classList.remove("is-invalid");
      emailInvalidFeedback1.textContent = "";
    }


    var nameInput = document.getElementById("username");
    var shippingInvalidFeedback1 = document.querySelector(".name-invalid");

    if (nameInput.value.trim() === "" || nameInput.value == null) {
      shippingInvalidFeedback1.textContent = "User name is required.";
      nameInput.classList.add("is-invalid");
      nameInput.classList.remove("is-valid");
    isValid = false; // Set isValid to false if the field is invalid
    } else if (nameInput.value.length > 10) {
          nameInvalidFeedback.textContent = "User name is too long.";
          nameInput.classList.add("is-invalid");
          nameInput.classList.remove("is-valid");
          isValid = false;
    } else {
      nameInput.classList.add("is-valid");
      nameInput.classList.remove("is-invalid");
      shippingInvalidFeedback1.textContent = "";
    }

    var passwordInput = document.getElementById("password");
    var passwordInvalidFeedback1 = document.querySelector(".password-invalid");

    if (passwordInput.value.trim() === "" || passwordInput.value == null) {
      passwordInvalidFeedback1.textContent = "Password is required.";
      passwordInput.classList.add("is-invalid");
      passwordInput.classList.remove("is-valid");
    isValid = false; // Set isValid to false if the field is invalid
    } else if (passwordInput.value.length < 8) {
      passwordInvalidFeedback1.textContent = "Password is too small.";
      passwordInput.classList.add("is-invalid");
      passwordInput.classList.remove("is-valid");
      isValid = false;
    } else if (passwordInput.value.length > 12) {
      passwordInvalidFeedback1.textContent = "Password is too long.";
      passwordInput.classList.add("is-invalid");
      passwordInput.classList.remove("is-valid");
      isValid = false;
    }else {
      passwordInput.classList.add("is-valid");
      passwordInput.classList.remove("is-invalid");
      passwordInvalidFeedback1.textContent = "";
    }

    var confirmPasswordInput = document.getElementById("confirm_password");
    var confirmPasswordInvalidFeedback1 = document.querySelector(".confirm-password-invalid");

    if (confirmPasswordInput.value.trim() === "" || confirmPasswordInput.value == null) {
      confirmPasswordInvalidFeedback1.textContent = "Confirm Password is required.";
      confirmPasswordInput.classList.add("is-invalid");
      confirmPasswordInput.classList.remove("is-valid");
    isValid = false; // Set isValid to false if the field is invalid
    } else if (confirmPasswordInput.value.length < 8) {
      confirmPasswordInvalidFeedback1.textContent = "Confirm Password is too small.";
      confirmPasswordInput.classList.add("is-invalid");
      confirmPasswordInput.classList.remove("is-valid");
      isValid = false;
    }  else if (confirmPasswordInput.value != passwordInput.value) {
        confirmPasswordInvalidFeedback1.textContent = "Confirm Password should be same as Password.";
        confirmPasswordInput.classList.add("is-invalid");
        confirmPasswordInput.classList.remove("is-valid");
    } else if (confirmPasswordInput.value.length > 12) {
      confirmPasswordInvalidFeedback1.textContent = "Confirm Password is too long.";
      confirmPasswordInput.classList.add("is-invalid");
      confirmPasswordInput.classList.remove("is-valid");
      isValid = false;
    }else {
      confirmPasswordInput.classList.add("is-valid");
      confirmPasswordInput.classList.remove("is-invalid");
      confirmPasswordInvalidFeedback1.textContent = "";
    }


    return isValid;
}
</script>


<script>
  function myCheckValidity() {
  // Get the form element
  var form = document.getElementById("myForm");

  // Get all the form elements that need to be validated
  var inputs = form.querySelectorAll("input");
  var selects = form.querySelectorAll("select");

  // Loop through each input element and validate it
  for (var i = 0; i < inputs.length; i++) {
    // Check if the input element has the "is-invalid" class
    if (inputs[i].classList.contains("is-invalid")) {
      // If the input has the "is-invalid" class, return false
      return false;
    }
  }

  // Loop through each select element and validate it
  for (var j = 0; j < selects.length; j++) {
    // Check if the select element has the "is-invalid" class
    if (selects[j].classList.contains("is-invalid")) {
      // If the select has the "is-invalid" class
      return false;
    }
  }

  // If all inputs and selects are valid
  return true;
}

</script>

<script>
    var form = document.getElementById("myForm");
    form.addEventListener("submit", function (event) {
      if (!validateForm()) {
        event.preventDefault();
        event.stopPropagation();
       } else if (form.checkValidity() === false || myCheckValidity() === false) {
        event.preventDefault();
        event.stopPropagation();
      } else if (form.checkValidity() === true && myCheckValidity() === false) {
        event.preventDefault();
        event.stopPropagation();
      }
    });

    var emailInput = document.getElementById("email1");
    var emailInvalidFeedback = document.querySelector(".email-invalid");
    // Call the getSelectedData function and check its return value

    emailInput.addEventListener("input", function (event) {
        if (emailInput.value.trim() === "" || emailInput.value == null || (emailInput.value.trim() == "" && emailInput.value
        .length > 0)) {
          emailInvalidFeedback.textContent = "Email is required.";
          emailInput.classList.add("is-invalid");
          emailInput.classList.remove("is-valid");
        }else {
          emailInput.classList.add("is-valid");
          emailInput.classList.remove("is-invalid");
          emailInvalidFeedback.textContent = "";
        }
    });

    var nameInput = document.getElementById("username");
    var nameInvalidFeedback = document.querySelector(".name-invalid");
    // Call the getSelectedData function and check its return value

    nameInput.addEventListener("input", function (event) {
        if (nameInput.value.trim() === "" || nameInput.value == null || (nameInput.value.trim() == "" && nameInput.value
        .length > 0)) {
          nameInvalidFeedback.textContent = "User name is required.";
          nameInput.classList.add("is-invalid");
          nameInput.classList.remove("is-valid");
        }else if (nameInput.value.length > 10) {
          nameInvalidFeedback.textContent = "User name is too long.";
          nameInput.classList.add("is-invalid");
          nameInput.classList.remove("is-valid");
        }else {
          nameInput.classList.add("is-valid");
          nameInput.classList.remove("is-invalid");
          nameInvalidFeedback.textContent = "";
        }
    });

    var passwordInput = document.getElementById("password");
    var passwordInvalidFeedback = document.querySelector(".password-invalid");
    // Call the getSelectedData function and check its return value

    passwordInput.addEventListener("input", function (event) {
        if (passwordInput.value.trim() === "" || passwordInput.value == null || (passwordInput.value.trim() == "" && passwordInput.value
        .length > 0)) {
          passwordInvalidFeedback.textContent = "Password is required.";
          passwordInput.classList.add("is-invalid");
          passwordInput.classList.remove("is-valid");
        } else if (passwordInput.value.length < 8) {
          passwordInvalidFeedback.textContent = "Password is too small.";
          passwordInput.classList.add("is-invalid");
          passwordInput.classList.remove("is-valid");
        } else if (passwordInput.value.length > 12) {
          passwordInvalidFeedback.textContent = "Password is too long.";
          passwordInput.classList.add("is-invalid");
          passwordInput.classList.remove("is-valid");
        }else {
          passwordInput.classList.add("is-valid");
          passwordInput.classList.remove("is-invalid");
          passwordInvalidFeedback.textContent = "";
        }
    });

    var passwordInput = document.getElementById("password");
    var confirmPasswordInput = document.getElementById("confirm_password");
    var confirmPasswordInvalidFeedback1 = document.querySelector(".confirm-password-invalid");
    // Call the getSelectedData function and check its return value

    confirmPasswordInput.addEventListener("input", function (event) {
        if (confirmPasswordInput.value.trim() === "" || confirmPasswordInput.value == null || (confirmPasswordInput.value.trim() == "" && confirmPasswordInput.value
        .length > 0)) {
          confirmPasswordInvalidFeedback1.textContent = "Password is required.";
          confirmPasswordInput.classList.add("is-invalid");
          confirmPasswordInput.classList.remove("is-valid");
        } else if (confirmPasswordInput.value.length < 8) {
          confirmPasswordInvalidFeedback1.textContent = "Password is too small.";
          confirmPasswordInput.classList.add("is-invalid");
          confirmPasswordInput.classList.remove("is-valid");
        } else if (confirmPasswordInput.value.length > 12) {
          confirmPasswordInvalidFeedback1.textContent = "Password is too long.";
          confirmPasswordInput.classList.add("is-invalid");
          confirmPasswordInput.classList.remove("is-valid");
        } else if (confirmPasswordInput.value != passwordInput.value) {
            confirmPasswordInvalidFeedback1.textContent = "Confirm Password should be same as Password.";
            confirmPasswordInput.classList.add("is-invalid");
            confirmPasswordInput.classList.remove("is-valid");
        }else {
          confirmPasswordInput.classList.add("is-valid");
          confirmPasswordInput.classList.remove("is-invalid");
          confirmPasswordInvalidFeedback1.textContent = "";
        }
    });


</script>

<script>
    // Function to hide the error message after a certain duration
function hideErrorMessage() {
    var errorBox = document.getElementById("error-box");
    if (errorBox) {
        errorBox.style.display = "none";
    }
}

setTimeout(hideErrorMessage, 3000);

</script>

</html>